import{M as v,j as e,I as N,B as y,z as b,A as h,E as C,F as I,G as u,H as k}from"./index-C1VooJf0.js";import{b as d}from"./charts-AC_n-Gm3.js";import"./pdf-export-C9FlfLes.js";import"./maplibre-DtjTm36r.js";function M({currentZip:n,allZipData:j,onClose:E}){const[o,g]=d.useState(""),[s,c]=d.useState(null),[i,l]=d.useState(""),x=()=>{if(!o.trim())return;l("");const t=j[o.trim()];t?c(t):(l("ZIP code not found in our database."),c(null))},f=Object.values(v).map(t=>({key:t.key,label:t.label,format:t.format}));return e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(N,{type:"text",pattern:"[0-9]*",inputMode:"numeric",maxLength:5,placeholder:"Enter ZIP code...",value:o,onChange:t=>g(t.target.value.replace(/\D/g,"")),onKeyDown:t=>{t.key==="Enter"&&x()},"aria-label":"ZIP code to compare"}),e.jsx(y,{onClick:x,size:"sm","aria-label":"Search",children:e.jsx(b,{className:"h-4 w-4"})})]}),i&&e.jsx("div",{className:"text-sm text-red-500 p-2 rounded bg-red-50",children:i}),s&&e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 text-center",children:[e.jsxs("div",{children:[e.jsx(h,{variant:"secondary",children:n.zipCode}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:n.city})]}),e.jsx("div",{className:"text-xs text-muted-foreground self-center",children:"vs"}),e.jsxs("div",{children:[e.jsx(h,{variant:"secondary",children:s.zipCode}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.city})]})]}),e.jsx("div",{className:"space-y-2",children:f.map(t=>{const m=n[t.key],p=s[t.key],a=k(m,p),r=t.key!=="median_dom";return e.jsx(C,{children:e.jsxs(I,{className:"p-3",children:[e.jsx("div",{className:"text-center mb-2 text-xs font-medium text-muted-foreground",children:t.label}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:`text-center font-bold text-sm ${a==="higher"?r?"text-green-600":"text-red-600":a==="lower"?r?"text-red-600":"text-green-600":""}`,children:u(m,t.format)}),e.jsx("div",{className:`text-center font-bold text-sm ${a==="lower"?r?"text-green-600":"text-red-600":a==="higher"?r?"text-red-600":"text-green-600":""}`,children:u(p,t.format)})]})]})},t.key)})})]})]})}export{M as ZipComparison};
