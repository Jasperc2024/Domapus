import{j as e,m as y,o as N,M as C,B as f,X as I,I as k,z as E,A as S,E as Z,F as g,G as w}from"./index-DO3rplMj.js";import{b as c}from"./charts-AC_n-Gm3.js";import"./pdf-export-C9FlfLes.js";import"./maplibre-DtjTm36r.js";const z=N("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function v({className:r,variant:o,...i}){return e.jsx("div",{className:y(z({variant:o}),r),...i})}function D({currentZip:r,allZipData:o,onClose:i}){const[d,j]=c.useState(""),[s,l]=c.useState(null),[x,m]=c.useState(""),u=()=>{if(!d.trim())return;m("");const t=o[d.trim()];t?l(t):(m("ZIP code not found in our database."),l(null))},b=Object.values(C).map(t=>({key:t.key,label:t.label,format:t.format}));return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-dashboard-text-primary",children:"Compare ZIP Codes"}),e.jsx(f,{variant:"ghost",size:"sm",onClick:i,"aria-label":"Close comparison",children:e.jsx(I,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(k,{type:"text",pattern:"[0-9]*",inputMode:"numeric",maxLength:5,placeholder:"Enter ZIP code...",value:d,onChange:t=>j(t.target.value.replace(/\D/g,"")),onKeyDown:t=>{t.key==="Enter"&&u()},"aria-label":"ZIP code to compare"}),e.jsx(f,{onClick:u,size:"sm","aria-label":"Search",children:e.jsx(E,{className:"h-4 w-4"})})]}),x&&e.jsx("div",{className:"text-sm text-red-500 p-2 rounded bg-red-50",children:x}),s&&e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 text-center",children:[e.jsxs("div",{children:[e.jsx(v,{variant:"secondary",children:r.zipCode}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:r.city})]}),e.jsx("div",{className:"text-xs text-muted-foreground self-center",children:"vs"}),e.jsxs("div",{children:[e.jsx(v,{variant:"secondary",children:s.zipCode}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.city})]})]}),e.jsx("div",{className:"space-y-2",children:b.map(t=>{const p=r[t.key],h=s[t.key],a=w(p,h),n=t.key!=="median_dom";return e.jsx(S,{children:e.jsxs(Z,{className:"p-3",children:[e.jsx("div",{className:"text-center mb-2 text-xs font-medium text-muted-foreground",children:t.label}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:`text-center font-bold text-sm ${a==="higher"?n?"text-green-600":"text-red-600":a==="lower"?n?"text-red-600":"text-green-600":""}`,children:g(p,t.format)}),e.jsx("div",{className:`text-center font-bold text-sm ${a==="lower"?n?"text-green-600":"text-red-600":a==="higher"?n?"text-red-600":"text-green-600":""}`,children:g(h,t.format)})]})]})},t.key)})})]})]})}export{D as ZipComparison};
